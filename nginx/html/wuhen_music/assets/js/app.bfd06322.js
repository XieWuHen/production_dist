(function(t){function s(s){for(var a,r,o=s[0],c=s[1],l=s[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(s);while(h.length)h.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,s=0;s<i.length;s++){for(var e=i[s],a=!0,o=1;o<e.length;o++){var c=e[o];0!==n[c]&&(a=!1)}a&&(i.splice(s--,1),t=r(r.s=e[0]))}return t}var a={},n={app:0},i=[];function r(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=a,r.d=function(t,s,e){r.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,s){if(1&s&&(t=r(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)r.d(e,a,function(s){return t[s]}.bind(null,a));return e},r.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(s,"a",s),s},r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},r.p="/wuhen_music/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=s,o=o.slice();for(var l=0;l<o.length;l++)s(o[l]);var u=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"028e":function(t,s,e){"use strict";var a=e("1801"),n=e.n(a);n.a},"034f":function(t,s,e){"use strict";var a=e("85ec"),n=e.n(a);n.a},"0412":function(t,s,e){},"041f":function(t,s,e){},"0a12":function(t,s,e){"use strict";var a=e("b857"),n=e.n(a);n.a},"0a36":function(t,s,e){"use strict";var a=e("a948"),n=e.n(a);n.a},"0f91":function(t,s,e){t.exports=e.p+"assets/img/headset.928b6bec.svg"},1579:function(t,s,e){t.exports=e.p+"assets/img/radio.4a024d77.svg"},"17c0":function(t,s,e){t.exports=e.p+"assets/img/rank.b874aa30.svg"},1801:function(t,s,e){},1950:function(t,s,e){t.exports=e.p+"assets/img/singer.5d352b93.svg"},3605:function(t,s,e){"use strict";var a=e("fdb7"),n=e.n(a);n.a},"389b":function(t,s,e){"use strict";var a=e("6f82"),n=e.n(a);n.a},"3a72":function(t,s,e){},4258:function(t,s,e){"use strict";var a=e("4551"),n=e.n(a);n.a},"42a3":function(t,s,e){"use strict";var a=e("0412"),n=e.n(a);n.a},4551:function(t,s,e){},4953:function(t,s,e){},"4ffe":function(t,s,e){"use strict";var a=e("da61"),n=e.n(a);n.a},5125:function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("a026"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"down"}},[e("music-player",{directives:[{name:"show",rawName:"v-show",value:t.playerVisible,expression:"playerVisible"}]})],1),t.miniPlayerVisible?e("music-player-mini"):t._e(),e("keep-alive",[e("router-view")],1)],1)},i=[],r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"music-player-mini"},[e("div",{staticClass:"container"},[e("div",{staticClass:"song-img",on:{click:t.showPlayerPage}},[e("img",{style:{animationPlayState:t.imgRun,WebkitAnimationPlayState:t.imgRun},attrs:{src:t.song.imgUrl}})]),e("div",{staticClass:"middle"},[e("div",{staticClass:"progress"},[e("span",{staticClass:"current-progress",style:{width:t.currProgress}})]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"info"},[t._v(t._s(t.getSongAndSingersName))]),e("div",{staticClass:"control"},[e("span",{staticClass:"prev",on:{click:t.playPrev}}),e("span",{class:t.playStyle,on:{click:t.playOrPause}}),e("span",{staticClass:"next",on:{click:t.playNext}})])])]),e("div",{staticClass:"list",on:{click:t.showCurrList}}),e("transition",{attrs:{name:"curlist"}},[e("curr-song-list",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}]})],1),e("audio",{ref:"audio",staticClass:"music-audio",attrs:{id:"main-audio",src:t.song.url}})],1)])},o=[],c=(e("b0c0"),e("b680"),e("d3b7"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"currentSongList"},[t.songList.length>0?t._e():e("span",{staticClass:"defaultTip"},[t._v("列表里还没有添加歌曲~")]),e("div",{staticClass:"banner",on:{click:t.closeList}}),e("div",{staticClass:"songs"},t._l(t.songList,(function(s,a){return e("div",{staticClass:"item",on:{click:function(e){return t.selectSong(s.id,s.name,s.al.picUrl,s.ar,a)}}},[e("span",{staticClass:"number"},[t._v(t._s(a+1))]),e("div",{staticClass:"detail"},[e("span",{staticClass:"songName"},[t._v(t._s(s.name))]),e("span",{staticClass:"singer"},[t._v(t._s(t.getSingers(s.ar)))])])])})),0)])}),l=[],u=(e("a15b"),e("d81d"),{name:"CurrSongList",computed:{songList:function(){return this.$store.getters.currSongList},getSingers:function(){return function(t){var s=t.map((function(t){return t.name}));return s.join(" & ")}}},methods:{closeList:function(){this.$store.dispatch("setCurrSongListVisible",!1)},selectSong:function(t,s,e,a,n){var i=this;this.$store.dispatch("setSong",null);var r="";this.$axios.get("/api/song/url?id=".concat(t)).then((function(o){r=o.data.data[0].url,i.setSong(t,r,s,e,a,n)})).catch((function(t){return console.log(t)}))},setSong:function(t,s,e,a,n,i){var r={};r.id=t,r.url=s,r.imgUrl=a,r.name=e,r.singers=n,r.index=i,this.$store.dispatch("setSong",r),this.$store.dispatch("setMiniPlayerVisible",!0),this.$store.dispatch("setIsInCurrList",!0),this.$store.dispatch("setCurrSongIndex",i)}},mounted:function(){}}),d=u,h=(e("389b"),e("2877")),f=Object(h["a"])(d,c,l,!1,null,"d8aa866c",null),p=f.exports,g={name:"MusicPlayerMini",components:{CurrSongList:p},data:function(){return{controlLock:!0,isPlay:!0,currProgress:"0%"}},computed:{showList:function(){return this.$store.getters.currSongListVisible},playStyle:function(){return this.isPlay?"stop":"play"},imgRun:function(){return this.isPlay?"running":"paused"},song:function(){return this.$store.getters.song},getSongAndSingersName:function(){for(var t=[],s=0;s<this.song.singers.length;s++)t.push(this.song.singers[s].name);var e=t.toString();return this.song.name+"-"+e}},watch:{song:{deep:!0,handler:function(){this.initPlayer()}}},methods:{showPlayerPage:function(){this.$store.dispatch("setPlayerVisible",!0)},initPlayer:function(){var t=this;t.isPlay=!1,this.$refs.audio.load(),this.$refs.audio.addEventListener("canplay",(function(){t.$refs.audio.pause(),t.$refs.audio.play(),t.progressRun(),t.isPlay=!0,t.controlLock=!1})),this.$refs.audio.addEventListener("ended",(function(){t.$refs.audio.pause(),t.playNext()}))},playPrev:function(){var t=this;if(!this.controlLock&&(console.log("prev111"),this.$store.getters.isInCurrList)){console.log("prev");var s=this.$store.getters.currSongIndex,e=this.$store.getters.currSongList,a=s-1;if(a>=0){this.$store.dispatch("setSong",null),this.controlLock=!0;var n="";this.$axios.get("/api/song/url?id=".concat(e[a].id)).then((function(s){n=s.data.data[0].url;var i={};i.url=n,i.id=e[a].id,i.name=e[a].name,i.imgUrl=e[a].al.picUrl,i.singers=e[a].ar,i.index=a,t.$store.dispatch("setSong",i),t.$store.dispatch("setCurrSongIndex",a),t.initPlayer()})).catch((function(t){return console.log(t)}))}}},playNext:function(){var t=this;if(!this.controlLock&&(console.log("next111"),this.$store.getters.isInCurrList)){console.log("next");var s=this.$store.getters.currSongIndex,e=this.$store.getters.currSongList,a=s+1;if(e.length>a){this.controlLock=!0;var n="";this.$axios.get("/api/song/url?id=".concat(e[a].id)).then((function(s){n=s.data.data[0].url;var i={};i.url=n,i.id=e[a].id,i.name=e[a].name,i.imgUrl=e[a].al.picUrl,i.singers=e[a].ar,i.index=a,t.$store.dispatch("setSong",i),t.$store.dispatch("setCurrSongIndex",a),t.initPlayer()})).catch((function(t){return console.log(t)}))}}},playOrPause:function(){!1===this.controlLock&&(this.isPlay?(this.$refs.audio.pause(),this.isPlay=!1):!1===this.isPlay&&(this.$refs.audio.pause(),this.$refs.audio.play(),this.isPlay=!0,this.progressRun()))},progressRun:function(){var t={},s=this.$refs.audio;t.duration=s.duration;var e=this;s.addEventListener("timeupdate",(function(){t.curTime=s.currentTime;var a=s.currentTime/s.duration,n=(100*a).toFixed(2);n>=100&&(e.currProgress=0,e.isPlay=!1),t.currProgress=n,e.$store.dispatch("setSongControl",t),n+="%",e.currProgress=n}))},showCurrList:function(){this.$store.getters.currSongListVisible?this.$store.dispatch("setCurrSongListVisible",!1):this.$store.dispatch("setCurrSongListVisible",!0)}},mounted:function(){this.initPlayer()}},m=g,v=(e("3605"),Object(h["a"])(m,r,o,!1,null,"261ab732",null)),y=v.exports,C=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"player"},[a("div",{staticClass:"container"},[a("span",{staticClass:"exit",on:{click:t.exit}},[a("img",{attrs:{src:e("ccfe")}})]),t._m(0),a("div",{staticClass:"midBanner"},[a("div",{staticClass:"banner"}),a("div",{staticClass:"song-img"},[a("div",{staticClass:"water-bg"},[a("div",{staticClass:"water-box"}),a("div",{staticClass:"water-null",style:{top:t.waterTop}})]),a("img",{attrs:{src:t.imgUrl}})])]),a("div",{ref:"context",staticClass:"context"},[a("div",{ref:"lyrBox",staticClass:"lyr-box"},t._l(t.lyrObj.content,(function(s,e){return a("span",{key:e,ref:"lyrItem"+e,refInFor:!0,class:["lyr-item",t.lyrIndex==e?"isCurLyr":""]},[t._v(t._s(s))])})),0)]),a("div",{staticClass:"control"})])])},S=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"music-bg"},[e("ul",{staticClass:"miusicFa"},[e("li",{staticClass:"m1"}),e("li",{staticClass:"m2"}),e("li",{staticClass:"m3"}),e("li",{staticClass:"m4"}),e("li",{staticClass:"m5"}),e("li",{staticClass:"m6"}),e("li",{staticClass:"m7"}),e("li",{staticClass:"m8"}),e("li",{staticClass:"m8"}),e("li",{staticClass:"m7"}),e("li",{staticClass:"m6"}),e("li",{staticClass:"m5"}),e("li",{staticClass:"m4"}),e("li",{staticClass:"m3"}),e("li",{staticClass:"m2"}),e("li",{staticClass:"m1"})])])}],b=(e("4160"),e("159b"),e("99af"),e("ac1f"),e("1276"),{obj:{},obj2:{},parse2:function(t){var s=t.split(":"),e=0;return e=60*parseInt(s[0])+parseFloat(s[1]),isNaN(e)&&(e=0),e},parse:function(t){var s=this,e=[],a=[];return this.obj={time:[],content:[]},this.obj2={time:[],content:[]},e=t.split("["),e.forEach((function(t,s){s>0&&(a=a.concat(t.split("]")))})),a.forEach((function(t,e){e%2===0?(s.obj.time.push(s.parse2(t)),s.obj2.time.push(s.parse2(t))):(s.obj.content.push(t),s.obj2.content.push(t))})),this.obj}}),x={name:"MusicPlayer",data:function(){return{lyrObj:{},lyrIndex:0,cssIndex:0}},computed:{song:function(){return this.$store.getters.song},imgUrl:function(){return"{}"==JSON.stringify(this.$store.getters.song)?"../assets/song_bg.svg":this.$store.getters.song.imgUrl},waterTop:function(){return(this.$store.getters.songControl.currProgress-120).toFixed(2)+"%"},songControl:function(){return this.$store.getters.songControl},visible:function(){return this.$store.getters.playerVisible}},watch:{song:{deep:!0,handler:function(){this.getLyr()}},songControl:{deep:!0,handler:function(t){var s=this;"undefined"!==typeof this.lyrObj.time&&(this.lyrObj.time.forEach((function(e,a){e<=t.curTime&&(s.lyrIndex=a)})),this.lyrObj.time[this.lyrIndex]>=t.curTime-.2&&this.lyrObj.time[this.lyrIndex]<=t.curTime+.2&&this.lyrRun())}}},methods:{getLyr:function(){var t=this;console.log(this.song),this.lyrObj={},this.lyrIndex=0,this.$refs.lyrBox.style.cssText="transform: translateY(0)",this.$axios.get("/api/lyric?id=".concat(this.song.id)).then((function(s){console.log(s);var e=s.data.lrc.lyric;t.initLyr(e)})).catch((function(t){console.log(t)}))},initLyr:function(t){this.lyrObj=b.parse(t),console.log(document.getElementsByClassName("context")[0].offsetHeight)},lyrRun:function(){var t=this.$refs.context.offsetHeight,s=this.$refs.lyrBox,e=s.offsetHeight;if(0!=e){this.cssIndex=this.lyrIndex;var a=this.$refs["lyrItem".concat(this.lyrIndex)][0].offsetTop-t/2;s.style.cssText="transform: translateY(".concat(-a,"px)")}},exit:function(){this.$store.dispatch("setPlayerVisible",!1)}}},_=x,k=(e("68ba"),Object(h["a"])(_,C,S,!1,null,"04402718",null)),$=k.exports,I={name:"App",components:{MusicPlayerMini:y,MusicPlayer:$},computed:{miniPlayerVisible:function(){return this.$store.getters.miniPlayerVisible},playerVisible:function(){return this.$store.getters.playerVisible}},mounted:function(){var t=document.getElementsByTagName("html")[0],s=document.body.clientWidth||document.documentElement.clientWidth;t.style.fontSize=s/750*100+"px"}},L=I,E=(e("034f"),Object(h["a"])(L,n,i,!1,null,null,null)),T=E.exports,O=e("8c4f"),V=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"index"},[a("HeadNav"),a("my-scroll",{staticClass:"scroll-box"},[a("div",{staticClass:"box"},[a("Search",{staticClass:"header"}),a("Banner"),a("div",{staticClass:"menu"},[a("span",{staticClass:"item"},[a("router-link",{attrs:{to:"singers"}},[a("img",{attrs:{src:e("1950")}}),a("p",[t._v("歌 手")])])],1),a("span",{staticClass:"item"},[a("router-link",{attrs:{to:"all-rank"}},[a("img",{attrs:{src:e("17c0")}}),a("p",[t._v("排 行")])])],1),a("span",{staticClass:"item"},[a("router-link",{attrs:{to:"null-page"}},[a("img",{attrs:{src:e("9c9c")}}),a("p",[t._v("分 类 歌 单")])])],1),a("span",{staticClass:"item"},[a("router-link",{attrs:{to:"null-page"}},[a("img",{attrs:{src:e("1579")}}),a("p",[t._v("电 台")])])],1),a("span",{staticClass:"item"},[a("router-link",{attrs:{to:"null-page"}},[a("img",{attrs:{src:e("ac89")}}),a("p",[t._v("M V")])])],1)]),a("div",{staticClass:"recommend"},[a("div",{staticClass:"top"},[a("p",{staticClass:"title"},[t._v("推荐歌单")]),a("div",{staticClass:"more"},[t._v("更多"),a("span",{staticClass:"moreIcon"})])]),a("div",{staticClass:"container"},t._l(t.recommendList,(function(s,n){return a("span",{key:n,staticClass:"item",on:{click:function(e){return t.selectSongList(s.id)}}},[a("div",{staticClass:"iconContent"},[a("div",{staticClass:"listenNum"},[a("img",{attrs:{src:e("0f91")}}),a("span",[t._v("11.2万")])]),a("img",{staticClass:"playIcon",attrs:{src:e("5830")}})]),a("img",{attrs:{src:s.picUrl}}),a("p",[t._v(t._s(s.name))])])})),0)]),a("div",{staticClass:"footer"},[t._v("我也是有底线的哟~")])],1)])],1)},w=[],D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"head"},[e("span",{staticClass:"myInfo"}),e("div",{staticClass:"title"},[e("svg",[e("text",{staticClass:"words words-1",attrs:{"text-anchor":"middle",x:"50%",y:"70%"}},[t._v("无 痕 音 乐")]),e("text",{staticClass:"words words-2",attrs:{"text-anchor":"middle",x:"50%",y:"70%"}},[t._v("无 痕 音 乐")]),e("text",{staticClass:"words words-3",attrs:{"text-anchor":"middle",x:"50%",y:"70%"}},[t._v("无 痕 音 乐")]),e("text",{staticClass:"words words-4",attrs:{"text-anchor":"middle",x:"50%",y:"70%"}},[t._v("无 痕 音 乐")])])]),e("span",{staticClass:"search"})])},P=[],N={name:"HeadNav"},j=N,R=(e("42a3"),Object(h["a"])(j,D,P,!1,null,"be5400bc",null)),U=R.exports,B=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search"},[e("div",{staticClass:"top",on:{click:t.toSearchPage}},[t._m(0)])])},M=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tip"},[e("span",{staticClass:"icon"}),e("span",{staticClass:"txt"},[t._v("搜索")])])}],A={name:"Search",methods:{toSearchPage:function(){console.log("go to SearchPage"),this.$router.push({name:"searchPage"})}}},X=A,G=(e("face"),Object(h["a"])(X,B,M,!1,null,"a4e86cde",null)),W=G.exports,Y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"banner"},[0!==t.banners.length?e("div",{staticClass:"box"},[e("div",{ref:"container",staticClass:"container",style:{width:t.containerW,transform:t.transform},on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[e("div",{staticClass:"item"},[e("img",{attrs:{src:t.banners[t.banners.length-1].pic}})]),t._l(t.banners,(function(t,s){return e("div",{key:s,ref:"item",refInFor:!0,staticClass:"item"},[e("img",{attrs:{src:t.pic}})])})),e("div",{staticClass:"item"},[e("img",{attrs:{src:t.banners[0].pic}})])],2)]):t._e(),e("div",{staticClass:"banner-bottom"},t._l(t.banners,(function(s,a){return e("span",{key:a,class:a==t.currIndex-1||0==t.currIndex&&a==t.banners.length-1?"pot potActive":"pot",on:{click:function(s){return t.clickDot(a)}}})})),0)])},F=[],H={name:"Banner",data:function(){return{banners:[],currIndex:1,containerW:0,timer:"",flag:!0,transform:"",startX:0,moveX:0}},methods:{getBannerImages:function(){var t=this;this.$axios.get("/api/banner/?type=1").then((function(s){t.banners=s.data.banners,console.log(t.banners),t.autoMove()})).catch((function(t){return console.log(t)}))},autoMove:function(){var t=this;this.$nextTick((function(){var s=t.$refs.container;console.log(t.$refs.item[0].offsetWidth);var e=t.$refs.item[0].offsetWidth;t.$refs.container.childNodes.forEach((function(t){t.style.width=e+"px"})),t.transform="translateX(".concat(-e*t.currIndex,"px)"),t.containerW=e*(t.banners.length+2)+"px",t.timer=setInterval((function(){t.currIndex++,s.style.transition="all 1s",t.transform="translateX(".concat(-e*t.currIndex,"px)")}),3e3),s.addEventListener("transitionend",(function(){if(t.currIndex>t.banners.length)t.currIndex=1,s.style.transition="none",t.transform="translateX(".concat(-e*t.currIndex,"px)");else if(t.currIndex<=0){t.currIndex=t.banners.length;var a=-t.currIndex*e;s.style.transition="none",t.transform="translateX("+a+"px)"}t.flag=!0}))}))},clickDot:function(t){var s=this.$refs.item[0].offsetWidth;this.currIndex!==t+1&&(this.currIndex=t+1,this.transform="translateX(".concat(-this.currIndex*s,"px)"))},touchStart:function(t){var s=this;this.$nextTick((function(){s.startX=t.targetTouches[0].pageX,clearInterval(s.timer),s.timer=null}))},touchMove:function(t){var s=this;t.preventDefault(),this.$nextTick((function(){if(s.flag){s.moveX=t.targetTouches[0].pageX-s.startX;var e=-s.currIndex*s.$refs.item[0].offsetWidth+s.moveX;s.$refs.container.style.transition="none",s.transform="translatex("+e+"px)"}}))},touchEnd:function(t){var s=this;this.$nextTick((function(){if(s.flag){if(s.flag=!1,Math.abs(s.moveX)>=50){s.moveX>0?s.currIndex--:s.currIndex++;var t=-s.currIndex*s.$refs.item[0].offsetWidth;s.$refs.container.style.transition="all 1s",s.transform="translatex("+t+"px)"}else{var e=-s.currIndex*s.$refs.item[0].offsetWidth;s.$refs.container.style.transition="all 1s",s.transform="Translatex("+e+"px)"}clearInterval(s.timer),s.timer=setInterval((function(){s.currIndex++;var t=-s.currIndex*s.$refs.item[0].offsetWidth;s.$refs.container.style.transition="all 1s",s.transform="translateX("+t+"px)"}),3e3)}}))}},mounted:function(){this.getBannerImages()}},z=H,J=(e("4ffe"),Object(h["a"])(z,Y,F,!1,null,"9a8c8d1c",null)),K=J.exports,q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"wrapper"},[t._t("default")],2)},Q=[],Z=(e("a9e3"),e("1fba")),tt={name:"MyScroll",props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout((function(){t._initScroll()}),20)},methods:{_initScroll:function(){var t=this;this.$refs.wrapper&&(this.scroll=new Z["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX}),this.listenScroll&&this.scroll.on("scroll",(function(s){t.$emit("scroll",s)})),this.pullup&&this.scroll.on("scrollEnd",(function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")})),this.pulldown&&this.scroll.on("touchend",(function(s){s.y>50&&t.$emit("pulldown")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){t.$emit("beforeScroll")})))},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),this.refreshDelay)}}},st=tt,et=Object(h["a"])(st,q,Q,!1,null,"d456dba6",null),at=et.exports,nt={name:"Index",components:{HeadNav:U,Search:W,Banner:K,MyScroll:at},data:function(){return{recommendList:[]}},methods:{getRecommendList:function(){var t=this;this.$axios.get("/api/personalized?limit=12").then((function(s){t.recommendList=s.data.result})).catch((function(t){return console.log(t)}))},selectSongList:function(t){this.$router.push({name:"song-sheet-details",params:{id:t}})}},created:function(){this.getRecommendList()}},it=nt,rt=(e("c53f"),Object(h["a"])(it,V,w,!1,null,"d2e7b96e",null)),ot=rt.exports,ct=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page"},[t._v(" 尚待开发 ")])},lt=[],ut={name:"NullPage"},dt=ut,ht=(e("db60"),Object(h["a"])(dt,ct,lt,!1,null,"22593664",null)),ft=ht.exports,pt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rank"},[e("back-nav",{attrs:{title:"排行榜分类"}}),e("my-scroll",{staticClass:"scroll-box"},[e("div",{staticClass:"box"},[e("div",{staticClass:"container"},t._l(t.allList,(function(s,a){return e("div",{key:a,staticClass:"list-item",on:{click:function(e){return t.selectRank(s.name)}}},[e("div",{staticClass:"list-image"},[e("img",{attrs:{src:s.coverImgUrl}})]),e("div",{staticClass:"list-tracks"},[t._l(s.tracks,(function(a,n){return e("span",{key:n},[t._v(" "+t._s(n+1)+". "+t._s(0!==s.tracks.length?a.first:"---")+" ")])})),0===s.tracks.length?e("div",{staticClass:"list-description"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("span",{staticClass:"description"},[t._v(t._s(s.description))])]):t._e()],2)])})),0)])])],1)},gt=[],mt=(e("fb6a"),function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"back-nav",style:t.navStyle},[a("img",{staticClass:"back-btn",attrs:{src:e("ccfe")},on:{click:t.back}}),a("div",{staticClass:"title"},[t._v(t._s(t.title))])])}),vt=[],yt={name:"BackNav",props:{navBg:{type:String,default:"rgba(34, 40, 49, 0.5)"},title:{type:String,default:""}},data:function(){return{navStyle:{background:"rgba(34, 40, 49, 0.5)"}}},watch:{navBg:{immediate:!0,handler:function(t){this.navStyle.background=t}}},methods:{back:function(){this.$router.go(-1)}}},Ct=yt,St=(e("591f"),Object(h["a"])(Ct,mt,vt,!1,null,"976d6eea",null)),bt=St.exports,xt={name:"AllRank",components:{BackNav:bt,MyScroll:at},data:function(){return{rankLimit:20,allList:[]}},methods:{initAllRank:function(){var t=this;this.$axios.get("/api/toplist/detail").then((function(s){t.allList=s.data.list.slice(0,t.rankLimit)})).catch((function(t){return console.log(t)}))},selectRank:function(t){this.$router.push({name:"rank",params:{topListName:t}})}},activated:function(){this.$route.meta.isBack&&!this.isFirstEnter||this.initAllRank(),this.$route.meta.isBack=!1,this.isFirstEnter=!1},mounted:function(){this.isFirstEnter=!0}},_t=xt,kt=(e("4258"),Object(h["a"])(_t,pt,gt,!1,null,"3adcb61e",null)),$t=kt.exports,It=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rank"},[e("BackNav",{attrs:{title:t.title,"nav-bg":t.navBg}}),t.hasData?e("SongSheet",{attrs:{"rank-data":t.rankData}}):t._e()],1)},Lt=[],Et=(e("a4d3"),e("e01a"),function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"list"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"top",style:{background:t.backgroundStyle,transform:t.scaleValue,opacity:t.opacityValue}},[a("div",{staticClass:"mask"}),a("div",{staticClass:"content"},[a("span",{staticClass:"title"},[t._v(t._s(t.rankData.title))]),t.rankData.playCount?a("span",{staticClass:"listener-number"},[a("img",{attrs:{src:e("0f91")}}),t._v(t._s(t.getCount))]):t._e()])])]),a("div",{staticClass:"box"},[a("my-scroll",{staticClass:"scroll-box",attrs:{probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t.pageScroll}},[a("div",{staticClass:"in-box"},[a("div",{staticClass:"container"},[a("div",{staticClass:"play-all"},[a("div",{staticClass:"play-icon"},[a("img",{attrs:{src:e("9d13")}})]),a("div",{staticClass:"play",on:{click:t.playAll}},[t._v("播放全部"),a("span",[t._v("(共"+t._s(t.rankData.sum)+"首)")])])]),a("div",{staticClass:"songs"},t._l(t.rankData.rankList,(function(s,e){return a("div",{key:e,staticClass:"item",on:{click:function(a){return t.selectSong(s.id,s.name,s.al.picUrl,s.ar,e)}}},[a("span",{staticClass:"number"},[t._v(t._s(e+1))]),a("div",{staticClass:"detail"},[a("span",{staticClass:"songName"},[t._v(t._s(s.name))]),a("span",{staticClass:"singer"},[t._v(t._s(t.getSingers(s.ar)))])])])})),0)])])])],1)])}),Tt=[],Ot={name:"SongSheet",components:{MyScroll:at},props:{rankData:Object},data:function(){return{scaleValue:"scale(1) translateY(0)",opacityValue:1,probeType:3,listenScroll:!0,backgroundStyle:"",playerVisible:!1}},watch:{rankData:{deep:!0,immediate:!0,handler:function(t){this.backgroundStyle='url("'+t.backgroundUrl+'")  no-repeat center/100% 100%'}}},computed:{getCount:function(){return this.rankData.playCount>1e4?Math.floor(this.rankData.playCount/1e4)+"万":this.rankData.playCount},getSingers:function(){return function(t){var s=t.map((function(t){return t.name}));return s.join(" & ")}}},methods:{playAll:function(){this.$store.dispatch("setCurrSongList",null);var t=this.rankData.rankList;this.$store.dispatch("setCurrSongList",t);var s=t[0];this.$store.dispatch("setCurrSongIndex",0),this.$store.dispatch("setIsInCurrList",!0),this.getSongUrl(s.id,s.name,s.al.picUrl,s.ar,0)},selectSong:function(t,s,e,a,n){this.$store.dispatch("setSong",null),this.$store.dispatch("setIsInCurrList",!1),this.getSongUrl(t,s,e,a,n)},getSongUrl:function(t,s,e,a,n){var i=this,r="";this.$axios.get("/api/song/url?id=".concat(t)).then((function(o){r=o.data.data[0].url,i.setSong(t,r,s,e,a,n)})).catch((function(t){return console.log(t)}))},setSong:function(t,s,e,a,n,i){var r={};r.id=t,r.url=s,r.imgUrl=a,r.name=e,r.singers=n,r.index=i,this.$store.dispatch("setSong",r),this.$store.dispatch("setMiniPlayerVisible",!0)},pageScroll:function(t){if(t.y>0&&t.y<100){var s=1+t.y/100;this.scaleValue="scale(".concat(s,") translateY(0)")}if(t.y<0&&t.y>-100){var e=1+t.y/200,a=100*-(1-e);this.scaleValue="scale(1) translateY(".concat(a,"px)"),this.opacityValue=e}}},activated:function(){},mounted:function(){}},Vt=Ot,wt=(e("df43"),Object(h["a"])(Vt,Et,Tt,!1,null,"56c5042a",null)),Dt=wt.exports,Pt={name:"Rank",components:{BackNav:bt,SongSheet:Dt},data:function(){return{title:"",hasData:!1,id:0,rankData:{title:"",sum:0,backgroundUrl:"",rankList:[]},navBg:"rgba(34, 40, 49, 0.5)"}},methods:{initList:function(t){var s=this;switch(t){case"云音乐飙升榜":this.id=3;break;case"云音乐新歌榜":this.id=0;break;case"网易原创歌曲榜":this.id=2;break;case"云音乐热歌榜":this.id=1;break;case"云音乐说唱榜":this.id=3;break;case"云音乐古典音乐榜":this.id=24;break;case"云音乐电音榜":this.id=25;break;case"抖音排行榜":this.id=26;break;case"新声榜":this.id=27;break;case"云音乐ACG音乐榜":this.id=22;break;case"云音乐韩语榜":this.id=28;break;case"云音乐国电榜":this.id=4;break;case"英国Q杂志中文版周榜":this.id=29;break;case"电竞音乐榜":this.id=30;break;case"UK排行榜周榜":this.id=5;break;case"美国Billboard周榜":this.id=6;break;case"Beatport全球电子舞曲榜":this.id=21;break;case"KTV唛榜":this.id=7;break;case"iTunes榜":this.id=8;break;case"日本Oricon周榜":this.id=10;break}this.$axios.get("/api/top/list?idx=".concat(this.id)).then((function(t){s.rankData.title=void 0!==t.data.playlist.description?t.data.playlist.description:"",s.rankData.backgroundUrl=void 0!==t.data.playlist.coverImgUrl?t.data.playlist.coverImgUrl:"",s.rankData.rankList=void 0!==t.data.playlist.tracks?t.data.playlist.tracks:[],s.rankData.sum=void 0!==t.data.playlist.tracks?t.data.playlist.tracks.length:"",s.rankData.playCount=void 0!==t.data.playlist.playCount?t.data.playlist.playCount:null,s.hasData=!0})).catch((function(t){console.log(t)}))}},activated:function(){var t=this.$route.params.topListName;this.initList(t),this.title=t},mounted:function(){var t=this.$route.params.topListName;this.initList(t),this.title=t}},Nt=Pt,jt=(e("9d47"),Object(h["a"])(Nt,It,Lt,!1,null,"6de8f525",null)),Rt=jt.exports,Ut=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"songSheetDetails"},[e("back-nav",{attrs:{title:"歌单详情"}}),e("song-sheet2",{attrs:{"list-data":t.listData}})],1)},Bt=[],Mt=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.listData.tracks?a("div",{staticClass:"list"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"top",style:{background:t.backgroundStyle,transform:t.scaleValue,opacity:t.opacityValue}},[a("div",{staticClass:"mask"}),a("div",{staticClass:"content"},[a("span",{staticClass:"title"},[t._v(t._s(t.listData.name))]),t.listData.playCount?a("span",{staticClass:"listener-number"},[a("img",{attrs:{src:e("0f91")}}),t._v(t._s(t.getCount))]):t._e()])])]),a("div",{staticClass:"box"},[a("my-scroll",{staticClass:"scroll-box",attrs:{probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t.pageScroll}},[a("div",{staticClass:"in-box"},[a("div",{staticClass:"container"},[a("div",{staticClass:"play-all"},[a("div",{staticClass:"play-icon"},[a("img",{attrs:{src:e("9d13")}})]),a("div",{staticClass:"play",on:{click:t.playAll}},[t._v("播放全部"),a("span",[t._v("(共"+t._s(t.listData.tracks.length)+"首)")])])]),a("div",{staticClass:"songs"},t._l(t.listData.tracks,(function(s,e){return a("div",{key:e,staticClass:"item",on:{click:function(a){return t.selectSong(s.id,s.al.name,s.al.picUrl,s.ar,e)}}},[a("span",{staticClass:"number"},[t._v(t._s(e+1))]),a("div",{staticClass:"detail"},[a("span",{staticClass:"songName"},[t._v(t._s(s.al.name))]),a("span",{staticClass:"singer"},[t._v(t._s(t.getSingers(s.ar)))])])])})),0)])])])],1)]):t._e()},At=[],Xt={name:"SongSheet2",components:{MyScroll:at},props:{listData:Object},data:function(){return{scaleValue:"scale(1) translateY(0)",opacityValue:1,probeType:3,listenScroll:!0,backgroundStyle:""}},watch:{listData:{deep:!0,immediate:!0,handler:function(t){this.backgroundStyle='url("'+t.coverImgUrl+'")  no-repeat center/100% 100%'}}},computed:{getCount:function(){return this.listData.playCount>1e4?Math.floor(this.listData.playCount/1e4)+"万":this.listData.playCount},getNum:function(){return this.listData.tracks.length?(console.log("ok"),this.listData.tracks.length):(console.log("undefined")," ")},getSingers:function(){return function(t){var s=t.map((function(t){return t.name}));return s.join(" & ")}}},methods:{playAll:function(){this.$store.dispatch("setCurrSongList",null);var t=this.listData.tracks;this.$store.dispatch("setCurrSongList",t);var s=t[0];this.$store.dispatch("setCurrSongIndex",0),this.$store.dispatch("setIsInCurrList",!0),this.getSongUrl(s.id,s.al.name,s.al.picUrl,s.ar,0)},selectSong:function(t,s,e,a,n){this.$store.dispatch("setSong",null),this.$store.dispatch("setIsInCurrList",!1),this.getSongUrl(t,s,e,a,n)},getSongUrl:function(t,s,e,a,n){var i=this,r="";this.$axios.get("/api/song/url?id=".concat(t)).then((function(o){r=o.data.data[0].url,i.setSong(t,r,s,e,a,n)})).catch((function(t){return console.log(t)}))},setSong:function(t,s,e,a,n,i){var r={};r.id=t,r.url=s,r.imgUrl=a,r.name=e,r.singers=n,r.index=i,this.$store.dispatch("setSong",r),this.$store.dispatch("setMiniPlayerVisible",!0)},pageScroll:function(t){if(t.y>0&&t.y<100){var s=1+t.y/100;this.scaleValue="scale(".concat(s,") translateY(0)")}if(t.y<0&&t.y>-100){var e=1+t.y/200,a=100*-(1-e);this.scaleValue="scale(1) translateY(".concat(a,"px)"),this.opacityValue=e}}},activated:function(){},mounted:function(){}},Gt=Xt,Wt=(e("f749"),Object(h["a"])(Gt,Mt,At,!1,null,"d71ef822",null)),Yt=Wt.exports,Ft={name:"SongSheetDetails",components:{SongSheet2:Yt,BackNav:bt},data:function(){return{listData:{}}},methods:{getData:function(t){var s=this;this.listData={},this.$axios.get("/api/playlist/detail?id=".concat(t)).then((function(t){s.listData=t.data.playlist})).catch((function(t){console.log(t)}))}},activated:function(){var t=this.$route.params.id;t&&this.getData(t)}},Ht=Ft,zt=(e("028e"),Object(h["a"])(Ht,Ut,Bt,!1,null,"5220b747",null)),Jt=zt.exports,Kt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"singers-page"},[e("back-nav",{attrs:{navBg:"rgba(34, 40, 49)"}}),e("Search",{staticClass:"fixed-search"}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.fixedTopShow,expression:"fixedTopShow"}],staticClass:"fixed-top"},[e("span",[t._v(t._s(t.curArea))]),e("span",[t._v("|")]),e("span",[t._v(t._s(t.curSex))])]),e("my-scroll",{ref:"myScroll",staticClass:"container",attrs:{data:t.list,pulldown:t.pulldown,probeType:t.probeType,listenScroll:t.listenScroll},on:{pulldown:t.loadData,scroll:t.pageScroll}},[e("div",[e("div",{staticClass:"top"},[e("div",{staticClass:"item"},[e("div",{staticClass:"list"},t._l(t.area,(function(s,a){return e("span",{key:a,class:{selected:t.curArea==s},on:{click:t.selectArea}},[t._v(t._s(s))])})),0)]),e("div",{staticClass:"item"},[e("div",{staticClass:"list"},t._l(t.sex,(function(s,a){return e("span",{key:a,class:{selected:t.curSex==s},on:{click:t.selectSex}},[t._v(t._s(s))])})),0)])]),e("div",{staticClass:"singer-list"},t._l(t.list,(function(s,a){return e("div",{key:a,staticClass:"group"},[e("span",{staticClass:"first-letter",attrs:{id:s.tag}},[t._v(t._s(s.tag))]),e("div",{staticClass:"list"},t._l(s.data,(function(s,a){return e("span",{key:a,staticClass:"item",on:{click:function(e){return t.selectSinger(s.id,s.name,s.img1v1Url)}}},[e("img",{staticClass:"avatar",attrs:{src:""}}),e("span",{staticClass:"name"},[t._v(t._s(s.name))])])})),0)])})),0)])]),e("div",{staticClass:"sortList"},t._l(t.sortList,(function(s,a){return e("span",{key:a,on:{click:function(s){return t.toTag(a)}}},[t._v(t._s(s))])})),0)],1)},qt=[],Qt=(e("4de4"),e("6062"),e("3ca3"),e("ddb0"),e("2909")),Zt=e("b0b8"),ts=e.n(Zt),ss={name:"Singers",components:{Search:W,BackNav:bt,MyScroll:at},data:function(){return{list:[],sortList:[],pulldown:!0,probeType:3,listenScroll:!0,fixedTopShow:!1,curArea:"全部地区",curSex:"全部性别",area:["全部地区","华语","韩国","日本","欧美"],sex:["全部性别","男","女","组合"],areaIndex:-1,sexIndex:-1}},methods:{loadData:function(){var t=this;console.log("loadData"),this.$axios.get("/api/artist/list?limit=50&type=-1&area=-1").then((function(s){t.initList(s)})).catch((function(t){return console.log(t)}))},initList:function(t){var s=this;this.list=[],this.sortList=[];var e=[];e=t.data.artists.sort((function(t,s){var e=ts.a.getCamelChars(t.name.slice(0,1)).toLowerCase(),a=ts.a.getCamelChars(s.name.slice(0,1)).toLowerCase();return e.localeCompare(a)}));var a=/^[a-zA-Z]+$/;e.forEach((function(t,n){var i=ts.a.getCamelChars(t.name.slice(0,1));a.test(i)||(i="*"),s.sortList.push(i),e[n].tag=i})),this.sortList=new Set(this.sortList),this.sortList=Object(Qt["a"])(this.sortList),this.sortList.forEach((function(t){s.list.push({tag:t,data:e.filter((function(s){return s.tag==t}))})}))},pageScroll:function(t){this.fixedTopShow=t.y<=-100},selectArea:function(t){var s=this;if(this.curArea!==t.target.innerText){switch(this.curArea=t.target.innerText,this.curArea){case"全部地区":this.areaIndex=-1;break;case"华语":this.areaIndex=7;break;case"韩国":this.areaIndex=16;break;case"日本":this.areaIndex=8;break;case"欧美":this.areaIndex=96;break}this.$axios.get("/api/artist/list?limit=50&type=".concat(this.sexIndex,"&area=").concat(this.areaIndex)).then((function(t){s.initList(t)})).catch((function(t){console.log(t)}))}},selectSex:function(t){var s=this;if(this.curSex!==t.target.innerText){switch(this.curSex=t.target.innerText,this.curSex){case"全部性别":this.sexIndex=-1;break;case"男":this.sexIndex=1;break;case"女":this.sexIndex=2;break;case"组合":this.sexIndex=3;break}this.$axios.get("/api/artist/list?limit=50&type=".concat(this.sexIndex,"&area=").concat(this.areaIndex)).then((function(t){s.initList(t)})).catch((function(t){console.log(t)}))}},selectSinger:function(t,s,e){console.log("歌手ID："+t),this.$router.push({name:"singersDetail",params:{singerId:t,name:s,avatar:e}})},toTag:function(t){var s=document.getElementsByClassName("group")[t];this.$refs.myScroll.scrollToElement(s,1e3,0,-40)}},beforeRouteEnter:function(t,s,e){"singersDetail"==s.name&&"singers"==t.name&&(t.meta.isBack=!0),e()},activated:function(){this.$route.meta.isBack&&!this.isFirstEnter||(this.curArea="全部地区",this.curSex="全部性别",this.loadData()),this.$route.meta.isBack=!1,this.isFirstEnter=!1},mounted:function(){this.isFirstEnter=!0}},es=ss,as=(e("0a12"),Object(h["a"])(es,Kt,qt,!1,null,"56c0f93e",null)),ns=as.exports,is=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"singerDetail"},[e("back-nav",{attrs:{title:"歌单详情"}}),e("song-sheet3",{attrs:{"list-data":t.listData}})],1)},rs=[],os=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.listData.tracks?a("div",{staticClass:"list"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"top",style:{background:t.backgroundStyle,transform:t.scaleValue,opacity:t.opacityValue}},[a("div",{staticClass:"mask"}),a("div",{staticClass:"content"},[a("span",{staticClass:"title"},[t._v(t._s(t.songsData.name))]),t.songsData.playCount?a("span",{staticClass:"listener-number"},[a("img",{attrs:{src:e("0f91")}})]):t._e()])])]),a("div",{staticClass:"box"},[a("my-scroll",{staticClass:"scroll-box",attrs:{probeType:t.probeType,listenScroll:t.listenScroll},on:{scroll:t.pageScroll}},[a("div",{staticClass:"in-box"},[a("div",{staticClass:"container"},[a("div",{staticClass:"play-all"},[a("div",{staticClass:"play-icon"},[a("img",{attrs:{src:e("9d13")}})]),a("div",{staticClass:"play",on:{click:t.playAll}},[t._v("播放全部"),a("span",[t._v("(热门排前50首)")])])]),a("div",{staticClass:"songs"},t._l(t.songsData.tracks,(function(s,e){return a("div",{key:e,staticClass:"item",on:{click:function(a){return t.selectSong(s.id,s.name,s.al.picUrl,s.ar,e)}}},[a("span",{staticClass:"number"},[t._v(t._s(e+1))]),a("div",{staticClass:"detail"},[a("span",{staticClass:"songName"},[t._v(t._s(s.name))]),a("span",{staticClass:"singer"},[t._v(t._s(t.getSingers(s.ar)))])])])})),0)])])])],1)]):t._e()},cs=[],ls={name:"SongSheet3",components:{MyScroll:at},props:{listData:Object},data:function(){return{songsData:{},scaleValue:"scale(1) translateY(0)",opacityValue:1,probeType:3,listenScroll:!0,backgroundStyle:""}},watch:{listData:{deep:!0,handler:function(t){this.songsData=t,this.backgroundStyle='url("'+this.songsData.coverImgUrl+'")  no-repeat center/100% 100%',console.log(this.songsData)}}},computed:{getSingers:function(){return function(t){var s=t.map((function(t){return t.name}));return s.join(" & ")}}},methods:{playAll:function(){this.$store.dispatch("setCurrSongList",null);var t=this.listData.tracks;this.$store.dispatch("setCurrSongList",t);var s=t[0];this.$store.dispatch("setCurrSongIndex",0),this.$store.dispatch("setIsInCurrList",!0),this.getSongUrl(s.id,s.al.name,s.al.picUrl,s.ar,0)},selectSong:function(t,s,e,a,n){this.$store.dispatch("setSong",null),this.$store.dispatch("setIsInCurrList",!1),this.getSongUrl(t,s,e,a,n)},getSongUrl:function(t,s,e,a,n){var i=this,r="";this.$axios.get("/api/song/url?id=".concat(t)).then((function(o){r=o.data.data[0].url,i.setSong(t,r,s,e,a,n)})).catch((function(t){return console.log(t)}))},setSong:function(t,s,e,a,n,i){var r={};r.id=t,r.url=s,r.imgUrl=a,r.name=e,r.singers=n,r.index=i,this.$store.dispatch("setSong",r),this.$store.dispatch("setMiniPlayerVisible",!0)},pageScroll:function(t){if(t.y>0&&t.y<100){var s=1+t.y/100;this.scaleValue="scale(".concat(s,") translateY(0)")}if(t.y<0&&t.y>-100){var e=1+t.y/200,a=100*-(1-e);this.scaleValue="scale(1) translateY(".concat(a,"px)"),this.opacityValue=e}}}},us=ls,ds=(e("5a57"),Object(h["a"])(us,os,cs,!1,null,"03b43433",null)),hs=ds.exports,fs={name:"SingerDetail",components:{SongSheet3:hs,BackNav:bt},data:function(){return{listData:{}}},methods:{getData:function(t){var s=this;this.listData={},this.$axios.get("/api/artist/top/song?id=".concat(t)).then((function(t){s.listData={name:s.$route.params.name,coverImgUrl:s.$route.params.avatar,tracks:t.data.songs},console.log(s.listData)})).catch((function(t){console.log(t)}))}},activated:function(){var t=this.$route.params.singerId;t&&this.getData(t)}},ps=fs,gs=(e("0a36"),Object(h["a"])(ps,is,rs,!1,null,"6400bf97",null)),ms=gs.exports,vs=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"searchPage"},[a("div",{staticClass:"top"},[a("div",{staticClass:"left",on:{click:t.back}},[a("img",{attrs:{src:e("ccfe")}})]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.curValue,expression:"curValue"}],attrs:{type:"text",placeholder:t.defaultWord},domProps:{value:t.curValue},on:{input:function(s){s.target.composing||(t.curValue=s.target.value)}}})]),a("div",{staticClass:"right"},[a("span",{on:{click:t.search}},[t._v("搜索")])])]),a("my-scroll",{staticClass:"container"},[a("div",{staticClass:"box"},[a("div",{staticClass:"hotSearch"},[a("div",{staticClass:"hotList"},t._l(t.hotSearchList,(function(s,e){return a("div",{key:e,staticClass:"item",on:{click:function(e){return t.selectHotWord(s.first)}}},[a("span",{staticClass:"context"},[t._v(t._s(s.first))])])})),0)]),a("div",{staticClass:"searchResult"},[a("div",{staticClass:"resList"},t._l(t.resultList,(function(s,e){return a("div",{key:e,staticClass:"item",on:{click:function(a){return t.selectSong(s.id,s.name,s.album.artist.img1v1Url,s.artists,e)}}},[a("div",{staticClass:"detail"},[a("span",{staticClass:"songName"},[t._v(t._s(s.name))]),a("span",{staticClass:"singers"},[t._v(t._s(t.getSingers(s.artists)))])])])})),0)])])])],1)},ys=[],Cs=(e("5319"),{name:"SearchPage",components:{MyScroll:at},data:function(){return{defaultWord:"",curValue:"",hotSearchList:[],resultList:[]}},computed:{getSingers:function(){return function(t){var s=t.map((function(t){return t.name}));return s.join(" & ")}}},methods:{back:function(){this.$router.go(-1)},getHotSearch:function(){var t=this;this.$axios.get("/api/search/hot").then((function(s){t.defaultWord=s.data.result.hots[0].first,t.hotSearchList=s.data.result.hots})).catch((function(t){return console.log(t)}))},selectHotWord:function(t){this.curValue=t},search:function(){var t=this,s="";if(""==this.curValue.replace(/\s+/g,"")&&0===this.curValue.length){if(""==this.defaultWord.replace(/\s+/g,""))return void console.log("未输入任何内容！");s=this.defaultWord}else{if(""==this.curValue.replace(/\s+/g,"")&&this.curValue.length>0)return void console.log("不能输入全是空格！");console.log("搜索默认关键词"),s=this.curValue}this.$axios.get("/api/search?keywords=".concat(s)).then((function(s){console.log(s),t.resultList=s.data.result.songs})).catch((function(t){console.log(t)}))},selectSong:function(t,s,e,a,n){this.$store.dispatch("setSong",null),this.$store.dispatch("setIsInCurrList",!1),this.getSongUrl(t,s,e,a,n)},getSongUrl:function(t,s,e,a,n){var i=this,r="";this.$axios.get("/api/song/url?id=".concat(t)).then((function(o){r=o.data.data[0].url,i.setSong(t,r,s,e,a,n)})).catch((function(t){return console.log(t)}))},setSong:function(t,s,e,a,n,i){var r={};r.id=t,r.url=s,r.imgUrl=a,r.name=e,r.singers=n,r.index=i,this.$store.dispatch("setSong",r),this.$store.dispatch("setMiniPlayerVisible",!0)}},activated:function(){this.curValue="",this.defaultWord="",this.getHotSearch()}}),Ss=Cs,bs=(e("f3c2"),Object(h["a"])(Ss,vs,ys,!1,null,"72cd6339",null)),xs=bs.exports;a["a"].use(O["a"]);var _s=[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:ot},{path:"/all-rank",name:"all-rank",meta:{isBack:!0},component:$t},{path:"/rank",name:"rank",component:Rt},{path:"/song-sheet-details",name:"song-sheet-details",component:Jt},{path:"/singers",name:"singers",meta:{isBack:!1},component:ns},{path:"/singersDetail",name:"singersDetail",component:ms},{path:"/searchPage",name:"searchPage",component:xs},{path:"/null-page",name:"null-page",component:ft}],ks=new O["a"]({mode:"history",base:"/wuhen_music/",routes:_s}),$s=ks,Is=(e("c975"),e("bc3a")),Ls=e.n(Is),Es=0;Ls.a.interceptors.request.use((function(t){var s=t.url;return-1!=s.indexOf("/api/song/url?id=")||-1!=s.indexOf("/api/lyric?id=")||(Es++,a["a"].$loading.open()),t}),(function(t){return Es=0,a["a"].$loading.close(),alert("请求失败！"),Promise.reject(t)})),Ls.a.interceptors.response.use((function(t){return Es--,Es<=0&&(Es=0,a["a"].$loading.close()),t}),(function(t){return Es=0,a["a"].$loading.close(),alert("请求失败！"),Promise.reject(t)}));var Ts,Os=Ls.a,Vs=e("ade3"),ws=e("2f62");a["a"].use(ws["a"]);var Ds,Ps={SET_MINIPLAYERVISIBLE:"SET_MINIPLAYERVISIBLE",SET_PLAYERVISIBLE:"SET_PLAYERVISIBLE",SET_SONG:"SET_SONG",SET_SONGCONTROL:"SET_SONGCONTROL",SET_CURRSONGLIST:"SET_CURRSONGLIST",SET_CURRSONGLISTVISBLE:"SET_CURRSONGLISTVISBLE",SET_CURRSONGINDEX:"SET_CURRSONGINDEX",SET_ISINCURRLIST:"SET_ISINCURRLIST"},Ns={miniPlayerVisible:!1,playerVisible:!1,song:{},songControl:{},currSongList:[],currSongListVisible:!1,currSongIndex:0,isInCurrList:!1},js={miniPlayerVisible:function(t){return t.miniPlayerVisible},playerVisible:function(t){return t.playerVisible},song:function(t){return t.song},songControl:function(t){return t.songControl},currSongList:function(t){return t.currSongList},currSongListVisible:function(t){return t.currSongListVisible},currSongIndex:function(t){return t.currSongIndex},isInCurrList:function(t){return t.isInCurrList}},Rs=(Ts={},Object(Vs["a"])(Ts,Ps.SET_MINIPLAYERVISIBLE,(function(t,s){t.miniPlayerVisible=s})),Object(Vs["a"])(Ts,Ps.SET_PLAYERVISIBLE,(function(t,s){t.playerVisible=s})),Object(Vs["a"])(Ts,Ps.SET_SONG,(function(t,s){s?t.song=s:s=null})),Object(Vs["a"])(Ts,Ps.SET_SONGCONTROL,(function(t,s){s?t.songControl=s:s=null})),Object(Vs["a"])(Ts,Ps.SET_CURRSONGLIST,(function(t,s){s?t.currSongList=s:s=[]})),Object(Vs["a"])(Ts,Ps.SET_CURRSONGLISTVISBLE,(function(t,s){t.currSongListVisible=s})),Object(Vs["a"])(Ts,Ps.SET_CURRSONGINDEX,(function(t,s){s?t.currSongIndex=s:s=0})),Object(Vs["a"])(Ts,Ps.SET_ISINCURRLIST,(function(t,s){t.isInCurrList=s})),Ts),Us={setMiniPlayerVisible:function(t,s){var e=t.commit;e(Ps.SET_MINIPLAYERVISIBLE,s)},setPlayerVisible:function(t,s){var e=t.commit;e(Ps.SET_PLAYERVISIBLE,s)},setSong:function(t,s){var e=t.commit;e(Ps.SET_SONG,s)},setSongControl:function(t,s){var e=t.commit;e(Ps.SET_SONGCONTROL,s)},setCurrSongList:function(t,s){var e=t.commit;e(Ps.SET_CURRSONGLIST,s)},setCurrSongListVisible:function(t,s){var e=t.commit;e(Ps.SET_CURRSONGLISTVISBLE,s)},setCurrSongIndex:function(t,s){var e=t.commit;e(Ps.SET_CURRSONGINDEX,s)},setIsInCurrList:function(t,s){var e=t.commit;e(Ps.SET_ISINCURRLIST,s)}},Bs=new ws["a"].Store({state:Ns,getters:js,mutations:Rs,actions:Us}),Ms=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.visible?e("div",{staticClass:"loading"},[t._m(0)]):t._e()},As=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li")])}],Xs={name:"Loading",data:function(){return{visible:!1}}},Gs=Xs,Ws=(e("7515"),Object(h["a"])(Gs,Ms,As,!1,null,"3eb27766",null)),Ys=Ws.exports,Fs=a["a"].extend(Ys),Hs={open:function(){Ds||(Ds=new Fs({el:document.createElement("div")})),Ds.visible||(document.body.appendChild(Ds.$el),a["a"].nextTick((function(){Ds.visible=!0})))},close:function(){Ds&&(Ds.visible=!1)}},zs=function(t){t.$loading=t.prototype.$loading=Hs};a["a"].config.productionTip=!1,a["a"].prototype.$axios=Os,a["a"].use(zs),new a["a"]({router:$s,store:Bs,render:function(t){return t(T)}}).$mount("#app")},5830:function(t,s,e){t.exports=e.p+"assets/img/play.0b18b6e8.svg"},"591f":function(t,s,e){"use strict";var a=e("cae3"),n=e.n(a);n.a},"5a57":function(t,s,e){"use strict";var a=e("5125"),n=e.n(a);n.a},"68ba":function(t,s,e){"use strict";var a=e("3a72"),n=e.n(a);n.a},"6f82":function(t,s,e){},7515:function(t,s,e){"use strict";var a=e("f7c0"),n=e.n(a);n.a},"85ec":function(t,s,e){},8781:function(t,s,e){},8814:function(t,s,e){},"9c9c":function(t,s,e){t.exports=e.p+"assets/img/song-menu.710a075e.svg"},"9d13":function(t,s,e){t.exports=e.p+"assets/img/playBtn.ceba8b76.svg"},"9d47":function(t,s,e){"use strict";var a=e("041f"),n=e.n(a);n.a},"9e83":function(t,s,e){},a3d7:function(t,s,e){},a424:function(t,s,e){},a948:function(t,s,e){},ac89:function(t,s,e){t.exports=e.p+"assets/img/mv.2037e4e9.svg"},b857:function(t,s,e){},c53f:function(t,s,e){"use strict";var a=e("a3d7"),n=e.n(a);n.a},cae3:function(t,s,e){},ccfe:function(t,s,e){t.exports=e.p+"assets/img/back.34a3829d.svg"},da61:function(t,s,e){},db60:function(t,s,e){"use strict";var a=e("9e83"),n=e.n(a);n.a},df43:function(t,s,e){"use strict";var a=e("4953"),n=e.n(a);n.a},f3c2:function(t,s,e){"use strict";var a=e("8814"),n=e.n(a);n.a},f749:function(t,s,e){"use strict";var a=e("a424"),n=e.n(a);n.a},f7c0:function(t,s,e){},face:function(t,s,e){"use strict";var a=e("8781"),n=e.n(a);n.a},fdb7:function(t,s,e){}});